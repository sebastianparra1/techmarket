<ion-content class="ion-padding">
  <!-- âœ… Beneficios del Plan Premium -->
  <ion-card class="beneficios-card" color="light">
    <ion-card-header>
      <ion-card-title>
        ðŸŒŸ Beneficios del Plan Premium (30 dÃ­as)
      </ion-card-title>
      <p style="font-size: 18px; font-weight: bold; color: #3880ff; margin-top: 8px;">
        ðŸ’³ Precio Ãºnico: $3.000 CLP
      </p>
    </ion-card-header>
    <ion-card-content>
      <ion-list lines="none">
        <ion-item>
          <ion-icon name="rocket-outline" color="success" slot="start"></ion-icon>
          <ion-label>Puedes vender mÃ¡s de <strong>10 productos siendo premium</strong></ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="repeat-outline" color="success" slot="start"></ion-icon>
          <ion-label>Habilita el botÃ³n <strong>Proponer intercambio</strong></ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="calendar-outline" color="success" slot="start"></ion-icon>
          <ion-label>Acceso exclusivo por <strong>30 dÃ­as</strong></ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="star-outline" color="warning" slot="start"></ion-icon>
          <ion-label>Aparece como <strong>Vendedor Premium</strong></ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Formulario de pago -->
  <form (submit)="pagarPremium()">
    <div class="card-preview-container">
      <div class="credit-card" [class.flipped]="mostrarTrasera">
        <div class="front">
          <div class="shine"></div>
          <div class="top-bar">
            <img *ngIf="logoTarjeta" [src]="logoTarjeta" class="card-logo" alt="Tipo de tarjeta" />
          </div>
          <div class="card-number">{{ numeroFormateado || 'â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢' }}</div>
          <div class="card-name">{{ nombreTitular || 'NOMBRE DEL TITULAR' }}</div>
          <div class="card-expiry">{{ vencimiento || 'MM/AA' }}</div>
        </div>
        <div class="back">
          <div class="cvv-label">CVV</div>
          <div class="cvv-value">{{ cvv || 'â€¢â€¢â€¢' }}</div>
        </div>
      </div>
    </div>

    <ion-card>
      <ion-card-header>
        <ion-card-title>Adquirir Plan Premium</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-item>
          <ion-label position="stacked">NÃºmero de tarjeta</ion-label>
          <ion-input type="text" [value]="numeroFormateado" (ionInput)="actualizarNumero($event)" maxlength="19" inputmode="numeric" placeholder="NÃºmero de tarjeta"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Nombre del titular</ion-label>
          <ion-input type="text" [(ngModel)]="nombreTitular" name="titular" placeholder="Nombre Apellido"></ion-input>
        </ion-item>

        <ion-grid>
          <ion-row>
            <ion-col size="8">
              <ion-item>
                <ion-label position="stacked">Vencimiento (MM/AA)</ion-label>
                <ion-input type="text" [value]="vencimiento" (ionInput)="actualizarVencimiento($event)" maxlength="5" placeholder="MM/AA"></ion-input>
              </ion-item>
            </ion-col>
            <ion-col size="4">
              <ion-item>
                <ion-label position="stacked">CVV</ion-label>
                <ion-input type="text" [value]="cvv" (ionInput)="actualizarCVV($event)" (ionfocus)="mostrarTrasera = true" (ionblur)="mostrarTrasera = false" maxlength="3" placeholder="123"></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-item>
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input [(ngModel)]="nombre" name="nombre" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Apellido</ion-label>
          <ion-input [(ngModel)]="apellido" name="apellido" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Correo electrÃ³nico</ion-label>
          <ion-input [(ngModel)]="emailComprador" name="emailComprador" type="email" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">CÃ³digo Postal</ion-label>
          <ion-input [(ngModel)]="codigoPostal" name="codigoPostal" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">RUT</ion-label>
          <ion-input [(ngModel)]="rut" name="rut" (ionInput)="filtrarRut($event)" placeholder="Ej: 12345678k" required></ion-input>
        </ion-item>

        <ion-button expand="block" type="submit" color="primary" class="ion-margin-top">
          <ion-icon name="card-outline" slot="start"></ion-icon>
          Pagar y Activar Premium
        </ion-button>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>
